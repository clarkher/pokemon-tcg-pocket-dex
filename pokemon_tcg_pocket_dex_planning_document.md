# Pokemon TCG Pocket Dex 復刻網站規劃文件

## 目錄

1. [專案概述](#1-專案概述)
2. [網站功能分析](#2-網站功能分析)
3. [技術需求](#3-技術需求)
4. [項目架構](#4-項目架構)
5. [開發時間表與里程碑](#5-開發時間表與里程碑)
6. [風險評估與管理](#6-風險評估與管理)
7. [資源需求](#7-資源需求)
8. [交付計劃](#8-交付計劃)
9. [後續維護計劃](#9-後續維護計劃)
10. [附錄](#10-附錄)

## 1. 專案概述

### 1.1 專案背景

Pokemon TCG Pocket Dex 是一個專注於寶可夢集換式卡牌遊戲(Pokemon Trading Card Game, PTCG)的資訊平台，提供卡牌資料庫、牌組分享、活動資訊等功能，幫助玩家更好地了解和參與寶可夢卡牌遊戲。本專案旨在復刻該網站的功能和設計，同時優化用戶體驗和技術實現。

### 1.2 專案目標

- 完整復刻 Pokemon TCG Pocket Dex 網站的所有核心功能
- 優化用戶界面和用戶體驗
- 建立高效、可擴展的技術架構
- 實現響應式設計，支持各種設備
- 提供安全、穩定的用戶認證系統
- 建立完整的卡牌和牌組數據庫

### 1.3 專案範圍

**包含範圍**：
- 卡牌資料庫與篩選系統
- 牌組管理系統
- 活動管理系統
- 用戶認證系統
- 關於作者頁面
- 響應式設計

**不包含範圍**：
- 實時聊天功能
- 電子商務功能
- 多語言支持（初始版本）
- 原創內容創作工具

### 1.4 關鍵利益相關者

- 專案發起人
- 開發團隊
- 寶可夢卡牌遊戲玩家
- 內容創作者
- 活動組織者

## 2. 網站功能分析

### 2.1 網站概述

Pokemon TCG Pocket Dex 是一個專注於寶可夢集換式卡牌遊戲的資訊平台，以企鵝為吉祥物，整體設計風格符合寶可夢主題，色彩鮮明且具有遊戲感。

### 2.2 主要功能模塊

#### 2.2.1 卡牌資料庫與篩選系統

- **卡牌列表展示**：以網格形式展示卡牌，包含卡牌圖片、名稱和稀有度
- **多維度篩選功能**：
  - 關鍵字搜尋：支持按寶可夢名稱搜尋
  - 屬性篩選：提供草、火、水、雷、超能、格鬥、惡、鋼、無色等屬性選擇
  - 稀有度篩選：從普通到超稀有的多級稀有度選擇
  - 系列篩選：按不同系列篩選卡牌（如最強的基因、幻遊島、時空激鬥等）
  - 擴充包篩選：按不同擴充包篩選（如阿爾宙斯、噴火龍、帝牙盧卡等）
  - 高級篩選：提供更多篩選條件
- **篩選重置功能**：一鍵清除所有篩選條件
- **卡牌詳情頁**：展示卡牌的完整信息，包括技能、能量消耗、攻擊力等

#### 2.2.2 牌組管理系統

- **牌組列表展示**：展示用戶創建和分享的牌組
- **牌組創建功能**：允許用戶創建新牌組
- **牌組搜尋與篩選**：
  - 更新日期篩選：所有、過去一周、過去一個月、過去一年
  - 關鍵字搜尋：按卡牌名稱搜尋牌組
  - 排序選項：按新增日期、點讚數、瀏覽數排序
  - 排序方式：升序或降序
  - 能量類型篩選：按牌組使用的能量類型篩選
- **牌組詳情展示**：顯示牌組包含的卡牌、創建者、更新日期、瀏覽次數和點讚數
- **牌組互動功能**：支持點讚、評論和分享

#### 2.2.3 活動管理系統

- **活動列表展示**：展示所有寶可夢卡牌相關活動
- **活動狀態分類**：全部活動、進行中、已結束、即將開始
- **活動類型標籤**：特級護照、任務、得卡挑戰、單人對戰等
- **活動詳情展示**：包含活動名稱、類型、時間範圍和狀態
- **活動時間管理**：自動更新活動狀態（進行中、已結束、即將開始）

#### 2.2.4 用戶認證系統

- **登入功能**：支持電子郵件密碼登入
- **第三方登入**：支持Google帳號登入
- **註冊功能**：新用戶註冊
- **用戶個人資料管理**：管理用戶個人信息和偏好設置

#### 2.2.5 關於作者頁面

- **作者介紹**：介紹網站開發者背景和聯繫方式
- **聯繫方式**：提供電子郵件聯繫方式
- **贊助選項**：提供Patreon贊助鏈接

### 2.3 設計與用戶體驗特點

#### 2.3.1 視覺設計

- **主題風格**：採用寶可夢主題，以企鵝為吉祥物
- **配色方案**：深色背景配合鮮明的黃色、紅色等高對比度顏色
- **卡牌展示**：精美的卡牌圖片展示，突出卡牌藝術設計
- **響應式設計**：適配不同設備屏幕尺寸

#### 2.3.2 用戶界面

- **導航設計**：頂部主導航欄，清晰展示主要功能區域
- **篩選界面**：直觀的篩選選項，支持多條件組合篩選
- **卡牌展示**：網格布局，清晰展示卡牌信息
- **互動元素**：按鈕、下拉菜單等交互元素設計符合遊戲風格

#### 2.3.3 用戶體驗

- **篩選便捷性**：多維度篩選系統，幫助用戶快速找到所需卡牌
- **信息層次**：信息展示層次分明，重要信息突出
- **操作流暢性**：界面操作直觀，功能區塊劃分清晰
- **社區互動**：支持牌組點讚、分享等社區互動功能

## 3. 技術需求

### 3.1 系統架構

#### 3.1.1 前端架構

- **框架選擇**：React.js 作為主要前端框架
  - 理由：組件化開發、虛擬DOM高效渲染、豐富的生態系統
- **狀態管理**：Redux 或 Context API
  - 理由：管理複雜的應用狀態，特別是卡牌篩選和用戶認證狀態
- **路由管理**：React Router
  - 理由：處理單頁應用的路由導航
- **UI 框架**：Material-UI 或 Ant Design
  - 理由：提供豐富的UI組件，加速開發
- **樣式解決方案**：Styled-components 或 Emotion
  - 理由：CSS-in-JS 方案，便於組件樣式管理

#### 3.1.2 後端架構

- **API 框架**：Node.js + Express.js
  - 理由：輕量級、高效能、適合構建RESTful API
- **數據庫**：MongoDB
  - 理由：適合存儲卡牌和牌組等非結構化數據
- **認證系統**：JWT (JSON Web Tokens)
  - 理由：無狀態認證，適合RESTful架構
- **第三方認證**：OAuth 2.0 (Google登入)
  - 理由：安全可靠的第三方認證方案

#### 3.1.3 部署架構

- **前端部署**：Vercel 或 Netlify
  - 理由：專為前端應用優化的部署平台
- **後端部署**：Heroku 或 AWS Lambda
  - 理由：可擴展性強，適合不同規模的應用
- **數據庫部署**：MongoDB Atlas
  - 理由：雲端MongoDB服務，易於管理和擴展
- **靜態資源**：AWS S3 或 Cloudinary
  - 理由：高效存儲和分發卡牌圖片等靜態資源

### 3.2 功能模塊技術需求

#### 3.2.1 卡牌資料庫與篩選系統

- **數據存儲**：
  - MongoDB集合設計：卡牌集合包含完整卡牌信息
  - 索引優化：為搜索和篩選字段建立索引
- **搜索與篩選API**：
  - RESTful API設計：支持多條件組合查詢
  - 查詢優化：分頁加載、緩存熱門查詢結果
- **前端實現**：
  - 響應式網格布局：使用CSS Grid或Flexbox
  - 動態篩選組件：即時更新篩選結果
  - 圖片懶加載：提升頁面加載性能
  - 虛擬滾動：處理大量卡牌數據的高效渲染

#### 3.2.2 牌組管理系統

- **數據模型**：
  - 牌組集合：存儲牌組信息、包含卡牌引用
  - 用戶-牌組關聯：管理用戶創建的牌組
- **API需求**：
  - 牌組CRUD操作：創建、讀取、更新、刪除
  - 牌組搜索與排序：支持多維度搜索和排序
  - 牌組互動：點讚、評論功能
- **前端實現**：
  - 牌組編輯器：拖放式卡牌選擇界面
  - 牌組展示組件：直觀展示牌組構成
  - 牌組分享功能：生成可分享鏈接

#### 3.2.3 活動管理系統

- **數據模型**：
  - 活動集合：存儲活動信息、時間、類型
  - 活動-用戶關聯：記錄用戶參與活動情況
- **API需求**：
  - 活動查詢：按狀態、類型查詢
  - 活動狀態管理：自動更新活動狀態
- **前端實現**：
  - 活動日曆視圖：直觀展示活動時間線
  - 活動詳情頁：展示活動詳細信息
  - 活動提醒：即將開始的活動通知

#### 3.2.4 用戶認證系統

- **認證機制**：
  - JWT基本認證：用戶名密碼登入
  - OAuth集成：Google第三方登入
  - 會話管理：安全的用戶會話處理
- **安全需求**：
  - 密碼加密：bcrypt哈希算法
  - CSRF防護：跨站請求偽造保護
  - XSS防護：跨站腳本攻擊防護
- **前端實現**：
  - 登入/註冊表單：用戶友好的表單設計
  - 認證狀態管理：全局認證狀態控制
  - 權限控制：基於用戶角色的功能訪問控制

### 3.3 非功能性技術需求

#### 3.3.1 性能需求

- **頁面加載時間**：首次加載 < 3秒
- **API響應時間**：平均 < 300ms
- **圖片優化**：
  - 響應式圖片：根據設備提供適當尺寸
  - 圖片壓縮：優化圖片大小不犧牲質量
  - CDN分發：使用內容分發網絡加速圖片加載

#### 3.3.2 可擴展性需求

- **水平擴展**：支持增加服務器節點應對流量增長
- **數據庫擴展**：支持數據分片和複製
- **模塊化設計**：便於功能擴展和維護

#### 3.3.3 安全需求

- **數據加密**：敏感數據傳輸和存儲加密
- **API安全**：
  - 速率限制：防止API濫用
  - 輸入驗證：防止注入攻擊
- **合規性**：符合數據保護法規要求

#### 3.3.4 可用性需求

- **系統可用性**：99.9%上線時間
- **備份恢復**：定期數據備份和恢復機制
- **錯誤處理**：優雅的錯誤處理和用戶反饋

#### 3.3.5 SEO優化需求

- **服務器端渲染(SSR)**：提升首次加載性能和SEO
- **元數據優化**：動態生成頁面標題、描述等元數據
- **結構化數據**：實現Schema.org標記提升搜索引擎理解

#### 3.3.6 可訪問性需求

- **WCAG 2.1合規**：符合Web內容可訪問性指南
- **鍵盤導航**：支持完整的鍵盤操作
- **屏幕閱讀器兼容**：適當的ARIA標籤和語義化HTML

## 4. 項目架構

### 4.1 前端項目結構

```
frontend/
├── public/                 # 靜態資源
│   ├── index.html          # HTML模板
│   ├── favicon.ico         # 網站圖標
│   └── assets/             # 靜態資源（圖標、圖片等）
├── src/                    # 源代碼
│   ├── components/         # 可復用組件
│   │   ├── common/         # 通用組件
│   │   ├── cards/          # 卡牌相關組件
│   │   ├── decks/          # 牌組相關組件
│   │   ├── events/         # 活動相關組件
│   │   ├── auth/           # 認證相關組件
│   │   └── layout/         # 布局組件
│   ├── pages/              # 頁面組件
│   ├── hooks/              # 自定義Hooks
│   ├── context/            # React Context
│   ├── redux/              # Redux狀態管理
│   ├── services/           # API服務
│   ├── utils/              # 工具函數
│   ├── styles/             # 全局樣式
│   ├── constants/          # 常量定義
│   ├── routes/             # 路由配置
│   ├── App.js              # 應用入口組件
│   └── index.js            # 應用渲染入口
└── package.json            # 依賴配置
```

### 4.2 後端項目結構

```
backend/
├── src/                    # 源代碼
│   ├── controllers/        # 控制器
│   ├── models/             # 數據模型
│   ├── routes/             # API路由
│   ├── middleware/         # 中間件
│   ├── services/           # 業務服務
│   ├── utils/              # 工具函數
│   ├── config/             # 配置文件
│   ├── app.js              # 應用入口
│   └── server.js           # 服務器啟動
└── package.json            # 依賴配置
```

### 4.3 數據庫模型設計

#### 4.3.1 卡牌模型 (Card)

```javascript
{
  _id: ObjectId,
  name: String,                // 卡牌名稱
  nameEn: String,              // 英文名稱（可選）
  imageUrl: String,            // 卡牌圖片URL
  attribute: String,           // 屬性（草、火、水等）
  rarity: String,              // 稀有度
  series: String,              // 系列
  expansion: String,           // 擴充包
  hp: Number,                  // 生命值
  type: String,                // 類型（基本、進化等）
  attacks: [{                  // 攻擊招式
    name: String,              // 招式名稱
    cost: [String],            // 能量消耗
    damage: String,            // 傷害值
    description: String        // 效果描述
  }],
  weaknesses: [{               // 弱點
    type: String,              // 弱點類型
    value: String              // 弱點值
  }],
  retreatCost: Number,         // 撤退消耗
  cardNumber: String,          // 卡牌編號
  releaseDate: Date,           // 發行日期
  createdAt: Date,             // 創建時間
  updatedAt: Date              // 更新時間
}
```

#### 4.3.2 牌組模型 (Deck)

```javascript
{
  _id: ObjectId,
  name: String,                // 牌組名稱
  description: String,         // 牌組描述
  creator: {                   // 創建者
    type: ObjectId,
    ref: 'User'
  },
  cards: [{                    // 牌組卡牌
    card: {
      type: ObjectId,
      ref: 'Card'
    },
    count: Number              // 卡牌數量
  }],
  mainEnergy: [String],        // 主要能量類型
  isPublic: Boolean,           // 是否公開
  likes: [{                    // 點讚用戶
    type: ObjectId,
    ref: 'User'
  }],
  comments: [{                 // 評論
    user: {
      type: ObjectId,
      ref: 'User'
    },
    text: String,
    createdAt: Date
  }],
  viewCount: Number,           // 瀏覽次數
  createdAt: Date,             // 創建時間
  updatedAt: Date              // 更新時間
}
```

#### 4.3.3 活動模型 (Event)

```javascript
{
  _id: ObjectId,
  title: String,               // 活動標題
  description: String,         // 活動描述
  type: String,                // 活動類型（特級護照、任務等）
  startDate: Date,             // 開始日期
  endDate: Date,               // 結束日期
  status: String,              // 狀態（進行中、已結束、即將開始）
  imageUrl: String,            // 活動圖片URL
  location: String,            // 活動地點（可選）
  organizer: String,           // 主辦方
  createdAt: Date,             // 創建時間
  updatedAt: Date              // 更新時間
}
```

#### 4.3.4 用戶模型 (User)

```javascript
{
  _id: ObjectId,
  email: String,               // 電子郵件
  password: String,            // 密碼（加密存儲）
  name: String,                // 用戶名
  avatar: String,              // 頭像URL
  role: String,                // 角色（用戶、管理員）
  googleId: String,            // Google ID（如使用Google登入）
  favoriteCards: [{            // 收藏卡牌
    type: ObjectId,
    ref: 'Card'
  }],
  decks: [{                    // 用戶牌組
    type: ObjectId,
    ref: 'Deck'
  }],
  createdAt: Date,             // 創建時間
  updatedAt: Date              // 更新時間
}
```

### 4.4 API路由設計

```
/api
├── /cards                  # 卡牌相關API
│   ├── GET /               # 獲取卡牌列表（支持篩選）
│   ├── GET /:id            # 獲取單個卡牌詳情
│   ├── POST /              # 創建卡牌（管理員）
│   ├── PUT /:id            # 更新卡牌（管理員）
│   └── DELETE /:id         # 刪除卡牌（管理員）
├── /decks                  # 牌組相關API
│   ├── GET /               # 獲取牌組列表（支持篩選）
│   ├── GET /:id            # 獲取單個牌組詳情
│   ├── POST /              # 創建牌組（需認證）
│   ├── PUT /:id            # 更新牌組（需認證+所有者）
│   ├── DELETE /:id         # 刪除牌組（需認證+所有者）
│   ├── POST /:id/like      # 點讚牌組（需認證）
│   └── POST /:id/comment   # 評論牌組（需認證）
├── /events                 # 活動相關API
│   ├── GET /               # 獲取活動列表（支持篩選）
│   ├── GET /:id            # 獲取單個活動詳情
│   ├── POST /              # 創建活動（管理員）
│   ├── PUT /:id            # 更新活動（管理員）
│   └── DELETE /:id         # 刪除活動（管理員）
├── /auth                   # 認證相關API
│   ├── POST /register      # 用戶註冊
│   ├── POST /login         # 用戶登入
│   ├── POST /google        # Google登入
│   └── GET /me             # 獲取當前用戶信息
└── /users                  # 用戶相關API
    ├── GET /profile        # 獲取用戶資料（需認證）
    ├── PUT /profile        # 更新用戶資料（需認證）
    ├── GET /:id/decks      # 獲取用戶牌組（公開）
    └── GET /:id            # 獲取用戶公開信息
```

### 4.5 數據流設計

#### 4.5.1 卡牌數據流

```
用戶操作 → 前端組件 → Redux Action → API調用 → 後端控制器 → 數據庫操作 → 響應數據 → Redux Reducer → 前端組件更新
```

#### 4.5.2 牌組數據流

```
用戶操作 → 前端組件 → Redux Action → API調用 → 認證中間件 → 後端控制器 → 數據庫操作 → 響應數據 → Redux Reducer → 前端組件更新
```

#### 4.5.3 認證數據流

```
用戶操作 → 前端組件 → Redux Action → API調用 → 後端控制器 → 認證服務 → JWT生成 → 響應數據 → Redux Reducer → 本地存儲 → 前端組件更新
```

## 5. 開發時間表與里程碑

### 5.1 項目總覽

- **項目名稱**：Pokemon TCG Pocket Dex 復刻網站
- **總開發時間**：16週（4個月）
- **團隊配置**：
  - 前端開發者：2名
  - 後端開發者：2名
  - UI/UX設計師：1名
  - 數據工程師：1名
  - 測試工程師：1名
  - 項目經理：1名

### 5.2 開發階段與時間表

#### 5.2.1 準備與規劃（2週）

- **第1週**：需求分析與設計準備
- **第2週**：UI/UX設計

#### 5.2.2 前端開發（6週）

- **第3週**：基礎架構與共享組件
- **第4-5週**：卡牌模塊開發
- **第6-7週**：牌組與活動模塊開發
- **第8週**：用戶認證與個人資料

#### 5.2.3 後端開發（5週）

- **第3-4週**：API架構與數據模型（與前端並行）
- **第5-6週**：卡牌與牌組API（與前端並行）
- **第7-8週**：活動與用戶API（與前端並行）
- **第9週**：數據導入與優化

#### 5.2.4 整合與測試（2週）

- **第10週**：前後端整合
- **第11週**：測試與Bug修復

#### 5.2.5 優化與部署（1週）

- **第12週**：性能優化與部署

#### 5.2.6 發布與監控（2週）

- **第13週**：用戶測試與反饋
- **第14週**：正式發布與監控

### 5.3 關鍵里程碑

1. **需求與設計完成**（第2週結束）
2. **前端基礎架構完成**（第3週結束）
3. **卡牌模塊完成**（第5週結束）
4. **牌組與活動模塊完成**（第7週結束）
5. **用戶認證完成**（第8週結束）
6. **後端API完成**（第9週結束）
7. **整合測試完成**（第11週結束）
8. **部署完成**（第12週結束）
9. **正式發布**（第14週結束）

## 6. 風險評估與管理

### 6.1 潛在風險

1. **數據獲取風險**
   - 風險：寶可夢卡牌數據獲取困難或不完整
   - 緩解：提前確定數據來源，準備多個備選方案

2. **技術複雜度風險**
   - 風險：某些功能實現難度超出預期
   - 緩解：在開發初期進行技術驗證，必要時調整功能範圍

3. **整合風險**
   - 風險：前後端整合時出現兼容性問題
   - 緩解：採用API優先設計，提前定義接口規範

4. **性能風險**
   - 風險：大量卡牌數據導致性能問題
   - 緩解：實施分頁加載、緩存策略和圖片優化

### 6.2 應急計劃

1. **時間緩衝**
   - 在每個階段結束預留1-2天的緩衝時間
   - 關鍵里程碑之間設置適當的緩衝期

2. **功能優先級**
   - 將功能分為核心、重要和次要三級
   - 時間緊張時優先確保核心功能完成

3. **資源調配**
   - 準備額外的開發資源，必要時可以調配
   - 關鍵階段可以增加開發人力

4. **範圍調整**
   - 制定功能裁剪計劃，必要時可以縮小項目範圍
   - 確定最小可行產品(MVP)的功能集

## 7. 資源需求

### 7.1 人力資源

- **前端開發**：2人 × 16週 = 32人週
- **後端開發**：2人 × 16週 = 32人週
- **UI/UX設計**：1人 × 8週 = 8人週
- **數據工程**：1人 × 6週 = 6人週
- **測試**：1人 × 8週 = 8人週
- **項目管理**：1人 × 16週 = 16人週

### 7.2 技術資源

- **開發環境**：
  - 本地開發環境
  - 測試環境
  - 預發布環境
  - 生產環境

- **服務器資源**：
  - 前端部署：Vercel或Netlify
  - 後端部署：Heroku或AWS
  - 數據庫：MongoDB Atlas
  - 靜態資源：AWS S3或Cloudinary

- **第三方服務**：
  - Google OAuth API
  - 監控服務（Sentry、New Relic）
  - 分析服務（Google Analytics）

### 7.3 其他資源

- **設計資源**：
  - 寶可夢卡牌圖片
  - UI設計工具（Figma）
  - 設計資產（圖標、字體等）

- **測試資源**：
  - 測試設備（不同尺寸的設備）
  - 測試工具（Jest、Cypress）
  - 性能測試工具

## 8. 交付計劃

### 8.1 階段性交付

1. **Alpha版本**（第9週）
   - 包含基本功能的內部測試版本
   - 主要用於內部功能驗證

2. **Beta版本**（第12週）
   - 包含完整功能的受限用戶測試版本
   - 用於收集用戶反饋和進行調整

3. **正式版本**（第14週）
   - 完整功能的公開發布版本
   - 所有核心功能完成並經過測試

### 8.2 持續交付

- 採用持續集成/持續部署(CI/CD)流程
- 每週至少一次內部版本更新
- 每兩週一次測試環境更新
- 根據開發進度調整發布頻率

## 9. 後續維護計劃

### 9.1 短期維護（發布後3個月）

- 每週進行Bug修復和小型功能更新
- 每兩週進行一次性能監控和優化
- 根據用戶反饋進行UI/UX調整

### 9.2 長期維護（發布後3-12個月）

- 每月進行功能更新和擴展
- 每季度進行一次大型更新
- 持續更新卡牌數據庫
- 根據用戶增長調整基礎設施

## 10. 附錄

### 10.1 技術棧總結

- **前端**：React.js, Redux, React Router, Styled-components
- **後端**：Node.js, Express.js, MongoDB
- **認證**：JWT, OAuth 2.0
- **部署**：Vercel/Netlify, Heroku/AWS, MongoDB Atlas
- **工具**：Git, GitHub Actions, Jest, Cypress

### 10.2 參考資源

- Pokemon TCG Pocket Dex 原網站：https://www.pokemon-tcg-pocket-dex.com/
- Pokemon TCG API（可能的數據來源）
- React.js 官方文檔
- MongoDB 官方文檔

### 10.3 術語表

- **PTCG**：Pokemon Trading Card Game，寶可夢集換式卡牌遊戲
- **JWT**：JSON Web Token，用於認證的令牌格式
- **OAuth**：開放授權協議，用於第三方登入
- **CRUD**：Create, Read, Update, Delete，基本數據操作
- **API**：Application Programming Interface，應用程序接口
- **SSR**：Server-Side Rendering，服務器端渲染
- **CI/CD**：Continuous Integration/Continuous Deployment，持續集成/持續部署
